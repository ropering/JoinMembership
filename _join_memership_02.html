<!-- 회원가입 양식 
  Date : 21.04.28
  
  function 
  - 이메일 유효성 검사
  - 전화번호 유효성 검사
  - 전송 (서버 전송 구현 X)
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>회원가입양식</title>

  <style>
    *{
      text-align: center;
    }
    .button{
      background-color: rgb(245, 217, 164);
    }
  </style>

  <script>

    function send() {
      var email = document.getElementById('email').value;
      var password = document.getElementById('password').value;
      var name = document.getElementById('name').value;
      var tel = document.getElementById('tel').value;
      var sex = document.getElementsByName('sex');
      
      // 성별 탐색 후, 저장 기능
      for(var i=0; sex.length; i++) {
        if(sex[i].checked == true) {
          sex = sex[i];
        }
      }

      alert("제출되었습니다 \n\n" + 
                  "이메일:    " + email    + "\n" + 
                  "비밀번호:  " + password + "\n" +
                  "이름:      " + name     + "\n" +
                  "전화번호:  " + tel   + "\n" + 
                  "성별:  "     + sex.value
      )
    }

    //이메일 검증 함수
    function verifyEmail() {
      var emailVal = document.getElementById('email').value;
      // 검증에 사용할 정규식 변수 regExp에 저장
      var regExpEmail = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;
      
      if (emailVal.match(regExpEmail) != null) {
        alert('이메일 검증 완료!');
      }
      else { alert('이메일 다시 입력해주세요    ' + emailVal); }
    }

    //전화번호 검증 함수
    function verifyTel() {
      var telVal = document.getElementById('tel').value;
      var regExpTel = /^[0-9]{2,3}-?[0-9]{3,4}-?[0-9]{4}/;

      if (telVal.match(regExpTel) != null) {
        alert('전화번호 검증 완료!');
      }
      else { alert('전화번호 다시 입력해주세요    ' + telVal); }
    }

    // Exit function
    function exit() {
      document.getElementById('email').value = "";
      document.getElementById('password').value = "";
      document.getElementById('name').value = "";
      document.getElementById('tel').value = "";
      document.getElementById('man').checked = false;
      document.getElementById('woman').checked = false;
      alert("취소되었습니다")
    }

  </script>
</head>
<body>
  <h2>[회원 가입]</h2>
  <form >
    이메일 <input type="text" id="email"> <br><br>
    비밀번호 <input type="text" id="password"> <br><br>
    이름 <input type="text" id="name"> <br><br>
    전화번호 <input type="text" id="tel"> <br><br>
    성별 
    <input type="radio" name="sex" id="man" value="남자"> 남
    <input type="radio" name="sex" id="woman" value="여자"> 여 <br>
    <input type="button" class="button" value="취소" onclick="exit()">
    <input type="submit" class="button" value="제출" onclick="verifyEmail(), verifyTel(), send()">
    <!-- verifyEmail(), verifyTel(),  -->
  </form>
  
</body>
</html>